{"ast":null,"code":"import{useEffect,useState}from\"react\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const AddTweet=_ref=>{let{contract,account,getTweets}=_ref;const[newTweet,setNewTweet]=useState(\"\");const[loading,setLoading]=useState(false);async function createTweet(tweet){if(!contract||!account){console.error(\"Web3 or contract not initialized or account not connected.\");return;}try{setLoading(true);await contract.methods.createTweet(tweet).send({from:account});getTweets();}catch(error){console.error(\"User rejected request:\",error);}finally{setLoading(false);}}return/*#__PURE__*/_jsxs(\"form\",{id:\"tweetForm\",onSubmit:e=>{e.preventDefault();createTweet(newTweet);},children:[/*#__PURE__*/_jsx(\"textarea\",{id:\"tweetContent\",rows:\"4\",placeholder:\"What's happening?\",value:newTweet,onChange:e=>setNewTweet(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{id:\"tweetSubmitBtn\",disabled:loading,type:\"submit\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}):/*#__PURE__*/_jsx(_Fragment,{children:\"Tweet\"})})]});};export default AddTweet;","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","AddTweet","_ref","contract","account","getTweets","newTweet","setNewTweet","loading","setLoading","createTweet","tweet","console","error","methods","send","from","id","onSubmit","e","preventDefault","children","rows","placeholder","value","onChange","target","disabled","type","className"],"sources":["/home/nithin/Documents/X_dApp/src/components/AddTweet.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nconst AddTweet = ({ contract, account, getTweets }) => {\n  const [newTweet, setNewTweet] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  async function createTweet(tweet) {\n    if (!contract || !account) {\n      console.error(\n        \"Web3 or contract not initialized or account not connected.\"\n      );\n      return;\n    }\n    try {\n      setLoading(true);\n      await contract.methods.createTweet(tweet).send({ from: account });\n      getTweets();\n    } catch (error) {\n      console.error(\"User rejected request:\", error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <form\n      id=\"tweetForm\"\n      onSubmit={(e) => {\n        e.preventDefault();\n        createTweet(newTweet);\n      }}\n    >\n      <textarea\n        id=\"tweetContent\"\n        rows=\"4\"\n        placeholder=\"What's happening?\"\n        value={newTweet}\n        onChange={(e) => setNewTweet(e.target.value)}\n      />\n      <br />\n      <button id=\"tweetSubmitBtn\" disabled={loading} type=\"submit\">\n        {loading ? <div className=\"spinner\"></div> : <>Tweet</>}\n      </button>\n    </form>\n  );\n};\n\nexport default AddTweet;\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAsC,IAArC,CAAEC,QAAQ,CAAEC,OAAO,CAAEC,SAAU,CAAC,CAAAH,IAAA,CAChD,KAAM,CAACI,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAE7C,cAAe,CAAAgB,WAAWA,CAACC,KAAK,CAAE,CAChC,GAAI,CAACR,QAAQ,EAAI,CAACC,OAAO,CAAE,CACzBQ,OAAO,CAACC,KAAK,CACX,4DACF,CAAC,CACD,OACF,CACA,GAAI,CACFJ,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAN,QAAQ,CAACW,OAAO,CAACJ,WAAW,CAACC,KAAK,CAAC,CAACI,IAAI,CAAC,CAAEC,IAAI,CAAEZ,OAAQ,CAAC,CAAC,CACjEC,SAAS,CAAC,CAAC,CACb,CAAE,MAAOQ,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CAAC,OAAS,CACRJ,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAEA,mBACET,KAAA,SACEiB,EAAE,CAAC,WAAW,CACdC,QAAQ,CAAGC,CAAC,EAAK,CACfA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBV,WAAW,CAACJ,QAAQ,CAAC,CACvB,CAAE,CAAAe,QAAA,eAEFzB,IAAA,aACEqB,EAAE,CAAC,cAAc,CACjBK,IAAI,CAAC,GAAG,CACRC,WAAW,CAAC,mBAAmB,CAC/BC,KAAK,CAAElB,QAAS,CAChBmB,QAAQ,CAAGN,CAAC,EAAKZ,WAAW,CAACY,CAAC,CAACO,MAAM,CAACF,KAAK,CAAE,CAC9C,CAAC,cACF5B,IAAA,QAAK,CAAC,cACNA,IAAA,WAAQqB,EAAE,CAAC,gBAAgB,CAACU,QAAQ,CAAEnB,OAAQ,CAACoB,IAAI,CAAC,QAAQ,CAAAP,QAAA,CACzDb,OAAO,cAAGZ,IAAA,QAAKiC,SAAS,CAAC,SAAS,CAAM,CAAC,cAAGjC,IAAA,CAAAE,SAAA,EAAAuB,QAAA,CAAE,OAAK,CAAE,CAAC,CACjD,CAAC,EACL,CAAC,CAEX,CAAC,CAED,cAAe,CAAApB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}